<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HT 5X PRO - UNIVERSAL CLOUD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background-color: #f4f4f4; height: 100vh; overflow: hidden; }
        .bg-custom-red { background-color: #8B0000; } 
        .btn-red { background: linear-gradient(180deg, #E3524F 0%, #b33a38 100%); cursor: pointer; border: none; }
        .btn-red:active { transform: scale(0.96); opacity: 0.9; }
        .input-box { background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 12px; padding: 14px; width: 100%; outline: none; color: #333; font-size: 16px; }
        
        #panelSection { display: none; background: radial-gradient(circle, #0a192f 0%, #02050a 100%); height: 100vh; width: 100%; position: fixed; top: 0; left: 0; z-index: 100; flex-direction: column; justify-content: center; align-items: center; }
        .glass-box { width: 330px; background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border: 1px solid rgba(0, 242, 255, 0.2); border-radius: 30px; padding: 25px; text-align: center; }
        .hack-btn { width: 100%; background: linear-gradient(90deg, #000428, #004e92); color: #00f2ff; border: 1px solid #00f2ff; padding: 15px; border-radius: 15px; margin-bottom: 12px; font-weight: bold; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; }
        
        #adminPanel { display: none; background: #000; color: #fff; height: 100vh; width: 100%; position: fixed; top: 0; z-index: 1000; padding: 20px; overflow-y: auto; }
        #signalOverlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 500; }
        .floating-signal { position: absolute; top: 20%; left: 10%; width: 220px; background: rgba(2, 5, 10, 0.95); border: 2px solid #00f2ff; border-radius: 20px; padding: 15px; text-align: center; color: white; cursor: move; box-shadow: 0 0 20px rgba(0, 242, 255, 0.4); }
        .hidden { display: none !important; }
    </style>
</head>
<body onload="initApp()">

    <div id="authSection" class="w-full">
        <div class="bg-custom-red text-white p-10 pb-28 rounded-b-[60px] text-center shadow-2xl">
            <h1 class="text-4xl font-black italic tracking-tighter">HT 5X PRO</h1>
            <p id="authType" class="mt-2 text-red-200">Registration Page</p>
        </div>
        
        <div class="px-8 -mt-20">
            <div class="bg-white rounded-[40px] p-8 shadow-2xl border border-gray-100">
                <div id="regBox">
                    <div class="space-y-4">
                        <input id="rPhone" type="tel" placeholder="Enter Phone Number" class="input-box" required>
                        <input id="rPass" type="password" placeholder="Create Password" class="input-box" required>
                        <button onclick="handleRegister()" class="w-full btn-red text-white font-bold py-4 rounded-2xl shadow-lg uppercase text-lg">Register</button>
                    </div>
                    <button onclick="toggleAuth(true)" class="w-full mt-6 text-gray-500 font-medium">Already have account? <span class="text-red-600 underline">Login</span></button>
                </div>

                <div id="loginBox" class="hidden">
                    <div class="space-y-4">
                        <input id="lPhone" type="tel" placeholder="Phone Number" class="input-box" required>
                        <input id="lPass" type="password" placeholder="Password" class="input-box" required>
                        <button onclick="handleLogin()" class="w-full btn-red text-white font-bold py-4 rounded-2xl shadow-lg uppercase text-lg">Login</button>
                    </div>
                    <button onclick="toggleAuth(false)" class="w-full mt-6 text-gray-500 font-medium">New member? <span class="text-red-600 underline">Register</span></button>
                </div>
            </div>
        </div>
    </div>

    <div id="panelSection">
        <div class="glass-box">
            <div class="text-cyan-400 text-[10px] mb-4 font-mono bg-cyan-900/30 px-3 py-1 rounded-full border border-cyan-500/30 inline-block">UID: <span id="userUID">HT-00000</span></div>
            <h2 class="text-white font-bold mb-6 text-xl tracking-widest italic">SERVER LIST</h2>
            <button class="hack-btn" onclick="startHack('DKWIN', 'https://www.dkwin.xyz/')">DKWIN HACK</button>
            <button class="hack-btn" onclick="startHack('HGZY', 'https://hgnice.biz/')">HGZY HACK</button>
            <button class="hack-btn" onclick="startHack('AMAR CLUB', 'https://amarclub17.com/')">AMAR CLUB</button>
            
            <a href="https://t.me/RAKIBIWNER" target="_blank" class="block bg-blue-600 text-white p-4 rounded-xl font-bold mt-6 shadow-lg text-sm uppercase no-underline">Activate Account</a>
            <button onclick="logout()" class="mt-8 text-gray-500 text-[10px] underline uppercase tracking-widest">Logout Session</button>
        </div>
    </div>

    <div id="adminPanel">
        <div class="flex justify-between items-center mb-6 border-b border-gray-800 pb-4">
            <h2 class="text-2xl font-bold text-cyan-400">Admin Control</h2>
            <button onclick="location.reload()" class="text-red-500 font-bold uppercase">Exit</button>
        </div>
        <div id="adminUserList" class="space-y-4"></div>
    </div>

    <div id="signalOverlay">
        <iframe id="gameFrame" class="w-full h-full border-none"></iframe>
        <div id="dragPanel" class="floating-signal">
            <div id="hName" class="text-cyan-400 font-black text-[10px] mb-1 italic">---</div>
            <div class="bg-black/40 rounded-xl p-3 mb-2 border border-white/5">
                <div id="timer" class="text-pink-500 font-black text-2xl">00:30</div>
                <div id="result" class="text-yellow-400 font-black text-3xl">---</div>
            </div>
            <button onclick="closeHack()" class="text-[9px] text-white bg-red-600 px-4 py-1 rounded-full font-bold uppercase">Exit</button>
        </div>
    </div>

    <script>
        // বাটন ও ডাটা সেভ নিশ্চিত করার জন্য উন্নত জাভাস্ক্রিপ্ট
        let db = JSON.parse(localStorage.getItem('ht_worldwide_v5')) || {};

        function initApp() {
            const session = localStorage.getItem('ht_active_session');
            if (session && db[session]) {
                showPanel(session);
            }
        }

        function toggleAuth(isLogin) {
            document.getElementById('regBox').classList.toggle('hidden', isLogin);
            document.getElementById('loginBox').classList.toggle('hidden', !isLogin);
            document.getElementById('authType').innerText = isLogin ? "Login Page" : "Registration Page";
        }

        function handleRegister() {
            const p = document.getElementById('rPhone').value.trim();
            const pass = document.getElementById('rPass').value.trim();
            if(!p || !pass) return alert("Please fill all fields!");
            if(db[p]) return alert("Number already exists!");

            const uid = "HT-" + Math.floor(10000 + Math.random() * 90000);
            db[p] = { pass: pass, uid: uid, active: false };
            saveDB();
            alert("Success! Your UID: " + uid);
            toggleAuth(true);
        }

        function handleLogin() {
            const p = document.getElementById('lPhone').value.trim();
            const pass = document.getElementById('lPass').value.trim();
            
            // Admin Check
            if(p === "1326367640" && pass === "Admin") return openAdmin();

            if(db[p] && db[p].pass === pass) {
                localStorage.setItem('ht_active_session', p);
                showPanel(p);
            } else {
                alert("Wrong Phone or Password!");
            }
        }

        function showPanel(p) {
            document.getElementById('authSection').classList.add('hidden');
            document.getElementById('panelSection').style.display = 'flex';
            document.getElementById('userUID').innerText = db[p].uid;
        }

        function openAdmin() {
            document.getElementById('authSection').classList.add('hidden');
            document.getElementById('adminPanel').style.display = 'block';
            const list = document.getElementById('adminUserList');
            list.innerHTML = "";
            for(let key in db) {
                list.innerHTML += `
                <div class="bg-gray-900 p-4 rounded-2xl flex justify-between items-center border border-gray-800">
                    <div><p class="text-cyan-400 font-bold">${db[key].uid}</p><p class="text-xs text-gray-500">${key}</p></div>
                    <button onclick="toggleUser('${key}')" class="px-5 py-2 rounded-xl text-xs font-bold ${db[key].active ? 'bg-green-600' : 'bg-red-600'}">
                        ${db[key].active ? 'Active' : 'Activate'}
                    </button>
                </div>`;
            }
        }

        function toggleUser(k) {
            db[k].active = !db[k].active;
            saveDB();
            openAdmin();
        }

        function startHack(name, url) {
            const user = localStorage.getItem('ht_active_session');
            if(db[user] && db[user].active) {
                document.getElementById('hName').innerText = name + " PRO";
                document.getElementById('gameFrame').src = url;
                document.getElementById('panelSection').style.display = 'none';
                document.getElementById('signalOverlay').style.display = 'block';
                startSignalLoop();
            } else {
                alert("Account Not Active! Contact Admin.");
            }
        }

        function startSignalLoop() {
            const res = () => { document.getElementById('result').innerText = Math.random() > 0.5 ? "BIG" : "SMALL"; };
            res(); let s = 30;
            window.hTimer = setInterval(() => {
                s--; document.getElementById('timer').innerText = `00:${s<10?'0'+s:s}`;
                if(s<=0) { s=30; res(); }
            }, 1000);
        }

        function closeHack() {
            document.getElementById('signalOverlay').style.display = 'none';
            document.getElementById('panelSection').style.display = 'flex';
            clearInterval(window.hTimer);
        }

        function saveDB() { localStorage.setItem('ht_worldwide_v5', JSON.stringify(db)); }
        function logout() { localStorage.removeItem('ht_active_session'); location.reload(); }

        // Movable Panel Logic
        const dragItem = document.getElementById('dragPanel');
        let active = false, currentX, currentY, initialX, initialY, xOffset = 0, yOffset = 0;
        
        const dragStart = (e) => {
            initialX = (e.type === "touchstart" ? e.touches[0].clientX : e.clientX) - xOffset;
            initialY = (e.type === "touchstart" ? e.touches[0].clientY : e.clientY) - yOffset;
            if (e.target === dragItem || dragItem.contains(e.target)) active = true;
        };
        const dragEnd = () => { active = false; };
        const drag = (e) => {
            if (active) {
                e.preventDefault();
                currentX = (e.type === "touchmove" ? e.touches[0].clientX : e.clientX) - initialX;
                currentY = (e.type === "touchmove" ? e.touches[0].clientY : e.clientY) - initialY;
                xOffset = currentX; yOffset = currentY;
                dragItem.style.transform = `translate3d(${currentX}px, ${currentY}px, 0)`;
            }
        };
        dragItem.addEventListener("touchstart", dragStart); dragItem.addEventListener("touchend", dragEnd); dragItem.addEventListener("touchmove", drag);
        dragItem.addEventListener("mousedown", dragStart); dragItem.addEventListener("mouseup", dragEnd); dragItem.addEventListener("mousemove", drag);
    </script>
</body>
</html>
